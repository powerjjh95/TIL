# 04장 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

메모리(memory)는 데이터를 저장할 수 있는 메모리 셀(memory cell)의 집합체다. 메모리 셀 하나의 크기는 1바이트(8비트)이며, 컴퓨터는 메모리 셀의 크기, 즉 1바이트 단위로 데이터를 저장(write)라거나 읽어(Read)들인다.

각 셀은 고유의 메모리 주소(memory address)를 갖는다. 이 메모리 주소는 메모리 공간의 위치를 나타내며, 0부터 시작해서 메모리의 크기만큼 정수로 표현된다.

컴퓨터는 모든 데이터를 2진수로 처리한다. 따라서 메모리에 저장되는 데이터는 데이터의 종류(숫자, 텍스트, 이미지, 동영상 등)와 상관없이 모두 2진수로 저장된다.

만약 자바스크립트가 개발자의 직접적인 메모리 제어를 허용하더라도 문제가 있다. 값이 저장될 메모리 주소는 코드가 실행될 때 메모리의 상황에 따라 임의로 결정된다. 따라서 동일한 컴퓨터에서 동일한 코드를 실행해도 코드가 실행될 때마다 값이 저장될 메모리 주소는 변경된다.

프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 변수라는 매커니즘을 제공한다.

**변수(Variable)는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.**

간단히 말하자면 변수는 프로그래밍 언어에서 값을 저장하고 참조하는 메커니즘으로, **값의 위치를 가리키는 상징적인 이름**이다. 상징적 이름인 변수는 프로그래밍 언어의 컴파일러 또는 인터프리터에 의해 값이 저장된 메모리 공간의 주소로 치환되어 실행된다. 따라서 개발자가 직접 메모리 주소를 통해 값을 저장하고 참조할 필요가 없고 변수를 통해 안전하게 값에 접근할 수 있다.

※ 변수에 여러 개의 값을 저장하는 방법

변수는 하나의 값을 저장하기 위한 메커니즘이다. 여러 개의 값을 저장하려면 여러 개의 변수를 사용해야 한다. 단, 배열이나 객체 같은 자료구조를 사용하면 관련이 있는 여러 개의 값을 그룹화해서 하나의 값처럼 사용할 수 있다.

[ 예제 04-02 ]

```jsx
// 변수는 하나의 값을 저장하기 위한 수단읻.
var userId = 1;
var userName = 'Lee';

// 객체나 배열 같은 자료구조를 사용하면 여러 개의 값을 하나로 그룹화해서 하나의 값처럼 사용할 수 있다.
var user = { id: 1, name: 'Lee' }

var users =[
  { id: 1, name: 'Lee' },
  { id: 2, name: 'Kim' }
]
```

[ 예제 04-03 ]

```jsx
var result = 10 + 20;
```

메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름(위 예제에서는 result)을 **변수 이름**(또는 변수명)이라 한다. 그리고 변수에 저장된 값(위 예제에서는 30)을 **변수 값**이라고 한다.

변수에 값을 저장하는 것을 **할당(assignment)(대입, 저장)**이라 하고, 변수에 저장된 값을 읽어 들이는 것을 **참조(reference)**라 한다.

## 4.2 식별자

변수 이름을 식별자(identifier)라고도 한다. **식별자는 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.**

값은 메모리 공간에 저장되어 있다. 따라서 식별자는 메모리 공간에 저장되어 있는 어떤 값을 구별해서 식별해 낼 수 있어야 한다.

이처럼 **식별자는 값이 아니라 메모리 주소를 기억하고 있다.** 식별자로 값을 구별해서 식별한다는 것은 식별자가 기억하고 있는 메모리 주소를 통해 메모리 공간에 저장된 값에 접근할 수 있다는 의미다.

변수, 함수, 클래스 등의 이름과 같은 식별자는 네이밍 규칙을 준수해야 하며, **선언(declaration)**에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

## 4.3 변수 선언

변수 선언(variable declaration)이란 변수를 생성하는 것을 말한다.

**변수를 사용하려면 반드시 선언이 필요하다. 변수를 선어날 때는 var, let, const 키워드를 사용한다.**

※ ES5 vs ES6

아직 살펴보지 않았지만 var 키워드는 여러 단점이 있다. var 키워드의 여러 단점 중에서 가장 대표적인 것이 블록 레벨 스코프(block-level scope)를 지원하지 않고 함수 레벨 스코프(function-level scope)를 지원한다는 것이다. 이로 인해 의도치 않게 전역 변수가 선언되어 심각한 부작용이 발생하기도 한다.

ES6에서 let과 const 키워드를 도입한 이유는 var 키워드의 여러 단점을 보완하기 위해서다. 따라서 let과 const 키워드가 도입된 이류를 정확히 파악하려면 먼저 var 키워드의 단점부터 정확히 이해해야 한다. var 키워드의 단점을 이해하려면 먼저 스코프와 같은 자바스크립트의 핵심 개념을 먼저 살펴봐야 한다.

ES6에서 let과 const 키워드가 도입되었다고 해서 var키워드가 폐기(deprecated)된 것은 아니다. ES6 이전 사양으로 작성된 코드는 var 키워드를 사용해 구현되어 있을 것이며, ES6 이후 사양(ES6+/ES.NEXT)을 따른다 하더라도 권장하지는 않지만 var 키워드를 사용할 수도 있다.

ES5와 ES6는 서로 상관없는 별개의 사양이 아니다. ES6 이전 사양으로 구현된 코드는 ES6 기반의 자바스크립트 엔진에서 모두 정상적으로 동작한다. 즉, **ES6는 기본적으로 하위 호환성을 유지하면서 ES5의 기반 위에 새로운 기능을 추가한 것이다. 다시말해, ES6는 ES5의 상위 집합(superset)이다.**

## 4.3 변수 선언

변수 선언(variable declaration)이란 변수를 생성하는 것을 말한다.

**변수를 사용하려면 반드시 선언이 필요하다. 변수를 선어날 때는 var, let, const 키워드를 사용한다.**

📄 ES5 vs ES6

아직 살펴보지 않았지만 var 키워드는 여러 단점이 있다. var 키워드의 여러 단점 중에서 가장 대표적인 것이 블록 레벨 스코프(block-level scope)를 지원하지 않고 함수 레벨 스코프(function-level scope)를 지원한다는 것이다. 이로 인해 의도치 않게 전역 변수가 선언되어 심각한 부작용이 발생하기도 한다.

ES6에서 let과 const 키워드를 도입한 이유는 var 키워드의 여러 단점을 보완하기 위해서다. 따라서 let과 const 키워드가 도입된 이류를 정확히 파악하려면 먼저 var 키워드의 단점부터 정확히 이해해야 한다. var 키워드의 단점을 이해하려면 먼저 스코프와 같은 자바스크립트의 핵심 개념을 먼저 살펴봐야 한다.

ES6에서 let과 const 키워드가 도입되었다고 해서 var키워드가 폐기(deprecated)된 것은 아니다. ES6 이전 사양으로 작성된 코드는 var 키워드를 사용해 구현되어 있을 것이며, ES6 이후 사양(ES6+/ES.NEXT)을 따른다 하더라도 권장하지는 않지만 var 키워드를 사용할 수도 있다.

ES5와 ES6는 서로 상관없는 별개의 사양이 아니다. ES6 이전 사양으로 구현된 코드는 ES6 기반의 자바스크립트 엔진에서 모두 정상적으로 동작한다. 즉, **ES6는 기본적으로 하위 호환성을 유지하면서 ES5의 기반 위에 새로운 기능을 추가한 것이다. 다시말해, ES6는 ES5의 상위 집합(superset)이다.**

[ 예제 04-04 ]

```jsx
var score; // 변수 선언
```

📄 키워드(keyword)

키워드는 자바스크립트 코드를 해석하고 실행하는 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어다. 자바스크립트 엔진은 키워드를 만나면 자신이 수행해야 할 약속된 동작을 수행한다. 예를 들어, var 키워드를 만나면 자바스크립트 엔진은 뒤에 오는 변수 이름이르 새로운 변수를 선언한다.

📄 undefined

undefined는 자바스크립트에서 제공하는 원시 타입의 값(primitive value)이다. 이에 대해서는 6장 “데이터 타입”에서 자세히 살펴볼 것이다.

📄 변수 이름은 어디에 등록되는가?

변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다. 실행 컨텍스트(execution context)는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다. 자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리한다.

변수 이름과 변수 값은 실행 컨텍스트 내에 키(key)/값(value) 형식인 객체로 등록되어 관리된다. 자바스크립트 엔지이 변수를 관리하는 메커니즘은 13장 “스코프”와 23장 “실행 컨텍스트”에서 자세히 살펴볼 것이다. 지금은 잔순히 자바스크립트 엔진이 변수를 관리할 수 있도록 변수의 존재를 알린다는 정도로만 알아두자.

일반적으로 초기화(initialization)란 선언된 이루 최초로 값을 할당하는 것을 말한다. var 키워드로 선언한 변수는 undefined로 암묵적인 초기화가 자동 수행된다. 따라서 var 키워드로 선언한 변수는 어떠한 값도 할당하지 않아도 undefined라는 값을 갖는다.

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

[ 예제 04-05 ]

```jsx
console.log(score); // undefined
var score; // 변수 선언문
```

**변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점, 즉 런타임(runtime)이 아니라 그 이전 단계에서 먼저 실행되기 때문이다.**

변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 변수 호이스팅(variable hoisting)

## 4.5 값의 할당

변수에 값을 할당(assignment)(대입, 저장)할 때는 할당 연산자 =를 사용한다. 할당 연산자는 우변의 값을 좌변의 변수에 할당한다.

[ 예제 04-06 ]

```jsx
var score;  // 변수 선언
score = 80; // 값의 할당
```

[ 예제 04-07 ]

```jsx
var score = 80 // 변수 선언과 값을 할당
```

**변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만 값의 할당은 소스코드가 순차적으로 실행되는 시점인 런타임에 실행된다.**

[ 예제 04-08 ]
